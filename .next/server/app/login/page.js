(()=>{var e={};e.id=626,e.ids=[626],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7572:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(974),r(2029),r(5866);var s=r(3191),i=r(8716),a=r(7922),n=r.n(a),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,974)),"/Users/yadvinder.singh/Documents/New project/src/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/yadvinder.singh/Documents/New project/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yadvinder.singh/Documents/New project/src/app/login/page.tsx"],m="/login/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2660:(e,t,r)=>{let s={ccfb7f1976ef7b2eb36d6b9089d5958ae7630275:()=>Promise.resolve().then(r.bind(r,4185)).then(e=>e.loginAction)};async function i(e,...t){return(await s[e]()).apply(null,t)}e.exports={ccfb7f1976ef7b2eb36d6b9089d5958ae7630275:i.bind(null,"ccfb7f1976ef7b2eb36d6b9089d5958ae7630275")}},4544:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8482:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9404,23)),Promise.resolve().then(r.bind(r,8861))},8153:()=>{},8861:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(326),i=r(962);function a({idleLabel:e,pendingLabel:t,className:r}){let{pending:a}=(0,i.useFormStatus)();return s.jsx("button",{className:r,type:"submit",disabled:a,children:a?t:e})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>o});var s=r(9510),i=r(2851),a=r.n(i),n=r(7337),l=r.n(n);r(5023);let o={title:"StatusCert AI",description:"Lawyer-grade status certificate reviews for Ontario real estate firms."};function d({children:e}){return s.jsx("html",{lang:"en",className:`${a().variable} ${l().variable}`,children:s.jsx("body",{className:"font-sans",children:e})})}},4185:(e,t,r)=>{"use strict";r.r(t),r.d(t,{loginAction:()=>o});var s=r(4330);r(166);var i=r(8585),a=r(5655),n=r(9658),l=r(1521);async function o(e){let t=String(e.get("email")||"").trim(),r=String(e.get("password")||"").trim(),s=(0,a.f)(),o=(0,n.h)(),{data:d,error:c}=await s.auth.signInWithPassword({email:t,password:r});c&&(0,i.redirect)(`/login?error=${encodeURIComponent((0,l.k)(c.message))}&email=${encodeURIComponent(t)}`);let m=d.user?.id;if(m){let{data:e}=await o.from("firm_members").select("id").eq("user_id",m).maybeSingle();if(!e){let{data:e}=await o.from("firms").select("id").eq("created_by",m).maybeSingle();if(e?.id)await o.from("firm_members").insert({firm_id:e.id,user_id:m,role:"OWNER"});else{let e="string"==typeof d.user.user_metadata?.firm_name&&d.user.user_metadata.firm_name.trim().length>0?d.user.user_metadata.firm_name.trim():"New Firm",{data:t,error:r}=await o.from("firms").insert({name:e,created_by:m}).select("id").single();(r||!t?.id)&&(0,i.redirect)("/login?error=Account%20authenticated%20but%20firm%20provisioning%20failed.")}}let{data:t}=await o.from("firm_members").select("firm_id").eq("user_id",m).maybeSingle();t?.firm_id&&await o.from("firm_billing").upsert({firm_id:t.firm_id},{onConflict:"firm_id"})}(0,i.redirect)("/app/reviews")}(0,r(618).h)([o]),(0,s.j)("ccfb7f1976ef7b2eb36d6b9089d5958ae7630275",o)},974:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(9510),i=r(7371),a=r(4185),n=r(8250);function l({searchParams:e}){return s.jsx("div",{className:"min-h-screen bg-parchment flex items-center justify-center px-6",children:(0,s.jsxs)("div",{className:"card w-full max-w-md p-8",children:[s.jsx("h1",{className:"font-serif text-2xl font-semibold",children:"Log in"}),s.jsx("p",{className:"text-sm text-slate mt-2",children:"Access your firm workspace."}),e?.error?s.jsx("div",{className:"mt-4 rounded-xl border border-[#D9A9A0] bg-[#FFF3F1] px-4 py-3 text-sm text-[#7A2A21]",children:e.error}):null,e?.message?s.jsx("div",{className:"mt-4 rounded-xl border border-[#C7D9CC] bg-[#F2FAF4] px-4 py-3 text-sm text-[#1E5B2B]",children:e.message}):null,(0,s.jsxs)("form",{action:a.loginAction,className:"mt-6 space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-slate",children:"Email"}),s.jsx("input",{name:"email",type:"email",required:!0,defaultValue:e?.email||"",className:"mt-2 w-full rounded-xl border border-[#DDD6CA] px-4 py-2"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-slate",children:"Password"}),s.jsx("input",{name:"password",type:"password",required:!0,className:"mt-2 w-full rounded-xl border border-[#DDD6CA] px-4 py-2"})]}),s.jsx(n.Z,{className:"btn btn-primary w-full disabled:opacity-60",idleLabel:"Log in",pendingLabel:"Logging in..."})]}),(0,s.jsxs)("p",{className:"mt-4 text-sm text-slate",children:["No account? ",s.jsx(i.default,{className:"text-ink underline",href:"/signup",children:"Create one"})]})]})})}},8250:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/yadvinder.singh/Documents/New project/src/components/FormSubmitButton.tsx#default`)},1521:(e,t,r)=>{"use strict";function s(e){let t=(e||"").toLowerCase();return t.includes("invalid login credentials")?"Email or password is incorrect.":t.includes("email not confirmed")||t.includes("email address not confirmed")?"Please confirm your email before logging in.":t.includes("already registered")||t.includes("user already registered")?"This email already has an account. Log in instead.":t.includes("password")?"Password does not meet requirements. Use at least 6 characters.":t.includes("rate limit")?"Too many attempts. Please wait and try again.":"We could not complete this request. Please try again."}r.d(t,{k:()=>s})},9658:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var s=r(7857);function i(){return(0,s.eI)("https://txyjzawvhknrtzwkennn.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{persistSession:!1}})}},5655:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});var s=r(1615),i=r(7721);function a(){let e=(0,s.cookies)(),t=(0,s.headers)();return(0,i.createServerClient)("https://txyjzawvhknrtzwkennn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR4eWp6YXd2aGtucnR6d2tlbm5uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4NjU2NzQsImV4cCI6MjA4MDQ0MTY3NH0.MTUhireV81KmuGDl7mMXmNXYaM4llV9k4j0-_s9MPms",{cookies:{get:t=>e.get(t)?.value,set(t,r,s){e.set({name:t,value:r,...s})},remove(t,r){e.set({name:t,value:"",...r,maxAge:0})}},headers:{get:e=>t.get(e)??void 0}})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,786,702,940,783,433],()=>r(7572));module.exports=s})();